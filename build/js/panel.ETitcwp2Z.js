(()=>{"use strict";const t="calculateIncomes",e="submitWithdraw",a="fetchWithdraw",r="fetchWithdrawFields",s="setWithdrawFields",n="/pmpr/v1/salary/withdraw",l={[s](t,e){t.fields=e}},i={state:{fields:null},actions:{[e](t,e){return this._vm.$helper.$apiRequest(`${n}/submit`,e)},[t](t,e){return this._vm.$helper.$apiRequest(`${n}/calculate`,e)},[a](t,e){return this._vm.$helper.$apiRequest(`${n}/get-withdraw`,e,"$get")},[r]({commit:t,state:e}){return new Promise(((e,a)=>{this._vm.$api.$get(`${n}/get-fields`).then((a=>{t(s,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))}},mutations:l,getters:{}},o="fetchAgreement",c="submitApplyRequest",u="fetchVerificationNeedUserFields",d="setAgreement",m="setUserVerification",h="/pmpr/v1/salary/agreement",p={[d](t,e){t.agreement=e},[m](t,e){t.appliable=e.appliable,t.user_verification=e.fields}},w={state:{agreement:null,appliable:!1,user_verification:null},actions:{[u]({commit:t}){return new Promise(((e,a)=>{this._vm.$api.$get(`${h}/get-apply-requires`).then((a=>{t(m,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))},[c]({commit:t,state:e},a){return new Promise(((t,e)=>{this._vm.$api.$post(`${h}/submit-apply`,a).then((e=>{t(e.data)})).catch((({response:t})=>{e(t)}))}))},[o]({commit:t,state:e},a){return new Promise(((e,r)=>{this._vm.$api.$get(`${h}/get-agreement`,{params:a}).then((a=>{t(d,a.data),e(a.data)})).catch((({response:t})=>{r(t)}))}))}},mutations:p,getters:{getAgreement:t=>t.agreement,getUserVerification:t=>t.user_verification}},y="fetchBankAccountFields",_="deleteBankAccount",f="saveBankAccount",g="setBankAccountFields",v="/pmpr/v1/salary/bank-account",P={[g](t,e){t.fields=e}},b={state:{fields:null},actions:{[f](t,e){return this._vm.$helper.$apiRequest(`${v}/save`,e)},[_](t,e){return this._vm.$helper.$apiRequest(`${v}/delete`,e,"$delete")},[y]({commit:t,state:e}){return new Promise(((e,a)=>{this._vm.$api.$get(`${v}/get-fields`).then((a=>{t(g,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))}},mutations:P,getters:{}};PRHelper.getHook().addFilter("panel_store_modules",(t=>(t["salary-back-account"]=b,t["salary-agreement"]=w,t["salary-withdraw"]=i,t)),500);var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._b({},"div",t.container,!1),[a("PanelIcon",{attrs:{icon:t.account.icon,size:"full",color:"no-color"}}),t._v(" "),a("div",{staticClass:"d-flex flex-column my-auto ml-3"},[a("strong",{staticClass:"mb-1"},[t._v(t._s(t.account.bank))]),t._v(" "),a("span",{staticClass:"text-dark-50"},[t._v(t._s(t.account[t.subtext_key]))])])],1)};S._withStripped=!0;function $(t,e,a,r,s,n,l,i){var o,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),r&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),l?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=o):s&&(o=i?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),o)if(c.functional){c._injectStyles=o;var u=c.render;c.render=function(t,e){return o.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,o):[o]}return{exports:t,options:c}}const k=$({name:"PanelSalaryBankAccount",props:{account:{type:Object,default:function(){return{}}},subtext_key:{type:String,default:"owner_name"},container:{type:Object,default:function(){return{class:"d-flex"}}}}},S,[],!1,null,null,null).exports;PRHelper.getHook().addAction("panel_component_initialized",(t=>{t.component("PanelSalaryBankAccount",k)}));var x=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};x._withStripped=!0;const C=$({name:"PanelSalary"},x,[],!1,null,null,null).exports;var A=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};A._withStripped=!0;const B=$({name:"PanelSalaryWithdraw"},A,[],!1,null,null,null).exports;var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelNotice",{attrs:{content:t.translate("salary.withdraw.modal.info"),classes:"mb-5",type:"info"}}),t._v(" "),a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("PanelModal",{attrs:{modal:t.modalProps,button:t.buttonProps,id:"withdraw_modal",title:t.translate("salary.withdraw.modal.title"),loading:t.loading},on:{"modal-show":function(e){return t.onModalShow(e)}},scopedSlots:t._u([{key:"body",fn:function(e){var r=e.close;return[t.error?a("PanelNotice",{attrs:{type:"warning",content:t.error}}):t.fields?[a("PanelNotice",{attrs:{content:t.translate("salary.withdraw.modal.notice"),classes:"mb-10",type:"warning"}}),t._v(" "),a("PanelForm",{attrs:{fields:t.fields,data:t.withdraw,"label-align":!1,id:"add_update_withdraw",tag:"form",offset:"0"},on:{rendered:t.afterRender,changed:t.onModalFormChange},scopedSlots:t._u([{key:"after-field",fn:function(e){return["agreements"===e.field?a("div",{staticClass:"col offset-lg-2"},[a("b-button",{staticClass:"mt-2",attrs:{disabled:t.withdraw.agreements.length<=0||t.timer>0,variant:"outline-primary"},on:{click:t.calculateIncomes}},[t._v("\n                    "+t._s(t.translate("salary.withdraw.action.calculate.title"))+"\n                    "),t.timer>0?a("span",{staticClass:"ml-2"},[t._v(t._s(t.timerResult))]):t._e()]),t._v(" "),t.incomes?a("PanelCollapsibleSimple",{attrs:{items:t.incomes,accordion:"incomes"},scopedSlots:t._u([{key:"toggle",fn:function(e){var r=e.item,s=e.id;return[a("strong",{class:"ml-3 text-"+r.color+("unwithdrawn"===s?" font-size-h5":""),domProps:{innerHTML:t._s(r.title)}})]}},{key:"actions",fn:function(e){var r=e.item,s=e.id;return[a("strong",{class:"text-"+r.color+("unwithdrawn"===s?" font-size-h5":""),domProps:{innerHTML:t._s(r.value)}})]}},{key:"content",fn:function(e){var r=e.item;return[a("p",{staticClass:"text-dark-50 mb-0 fs-sm ml-7",domProps:{innerHTML:t._s(r.description)}})]}},{key:"before-item",fn:function(e){e.item;return["remain"==e.id?a("PanelSeparator",{attrs:{type:"dashed"}}):t._e()]}}],null,!0)}):t._e()],1):t._e()]}}],null,!0)}),t._v(" "),a("div",{staticClass:"text-center pt-5"},[a("PanelActionSubmit",{staticClass:"mr-5",attrs:{name:"save",form:"add_update_withdraw",disabled:!t.canSubmit,text:t.translate("salary.withdraw.action.submit")}}),t._v(" "),a("PanelActionCancel",{on:{click:r}})],1)]:a("PanelSpinner")]}}])})]},proxy:!0},{key:"td",fn:function(e){var r=e.item,s=(e.column,e.column_key),n=e.id;return["bank_account"===s?a("PanelSalaryBankAccount",{attrs:{account:r.bank_account,subtext_key:"escaped"}}):"status"===s?a("PanelCellStatus",{attrs:{title:r.status_title,status:r.status,statuses:t.statuses,size:"xl"}}):"actions"===s?a("PanelActionLink",{attrs:{name:"details",to:{name:"panel_salary_withdraw_show",params:{id:n}}}}):a("PanelCellText",{attrs:{text:r[s]}})]}}])})],1)};T._withStripped=!0;const E={agreements:[]};const q=$({name:"PanelSalaryWithdrawList",data:()=>({error:null,timer:0,fields:null,loading:!1,incomes:{},withdraw:E}),methods:{countDownTimer(){this.timer>0&&setTimeout((()=>{this.timer-=1,this.countDownTimer()}),1e3)},onModalFormChange(t){this.withdraw=t},calculateIncomes(){this.withdraw.agreements?(this.loading=!0,this.$helper.$runAction(t,{agreements:this.withdraw.agreements}).then((({response:t})=>{this.incomes=t})).finally((()=>{this.timer=10,this.loading=!1,this.countDownTimer()}))):this.$helper.$showModal({icon:"warning",html:this.translate("salary.withdraw.action.calculate.not_empty")})},onModalShow(t){this.$store.dispatch(r).then((t=>{this.fields=t})).catch((t=>{this.error=t.data.message}))},afterRender(){this.$helper.$onSubmitForm("add_update_withdraw",this.fields,(()=>{this.loading=!0,this.$helper.$saveForm(this.withdraw,e).then((()=>{this.incomes={},this.withdraw=E,this.$hook.fire("modal:hide","withdraw_modal"),this.$hook.fire("remote-list:refresh")})).finally((()=>{this.loading=!1}))}))},timeFormat:t=>(t+"").replace(/^(\d)$/,"0$1")},computed:{canSubmit(){return!this.$helper.$isEmpty(this.withdraw.agreements)&&!this.$helper.$isEmpty(this.withdraw.target)},statuses:()=>({refused:"danger",pending:"primary",accepted:"success"}),columns(){return{bank_account:{title:this.translate("salary.withdraw.column.bank_account"),width:"25%"},amount:{title:this.translate("salary.withdraw.column.amount"),width:"20%"},status:{title:this.translate("column.status"),width:"20%"},created_at:{title:this.translate("column.created_at"),width:"20%"},actions:{title:this.translate("column.actions"),width:"15%"}}},modalProps:()=>({size:"lg",centered:!0,"hide-footer":!0,"body-class":"mx-5 mx-xl-15 my-7"}),buttonProps(){return{title:this.translate("salary.withdraw.action.add"),variant:"success"}},remoteProps:()=>({api:"/pmpr/v1/salary/withdraw/get-list-by-user","query-params":{sort:"created_at",sortBy:"orderBy"}}),timerResult(){let t=this.timer/60,e=this.timer%60;return this.timeFormat(t>=1?t:0)+":"+this.timeFormat(e)}}},T,[],!1,null,null,null).exports;var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.withdraw?[a("PanelSingleHeader",t._b({scopedSlots:t._u([{key:"value",fn:function(e){e.item;var r=e.value;return["status"===e.item_key?a("PanelCellStatus",{attrs:{title:t.withdraw.status_title,status:r,statuses:t.statuses,size:"xl"}}):[a("span",{domProps:{innerHTML:t._s(r)}})]]}}],null,!1,4206751963)},"PanelSingleHeader",t.headerProps,!1)),t._v(" "),a("PanelSidebar",{attrs:{tabs:t.tabs,args:{withdraw:t.currentWithdraw,withdrawObj:t.withdraw}}})]:a("PanelSpinner")],2)};M._withStripped=!0;const F={name:"PanelSalaryWithdrawShow",data:()=>({withdraw:null}),beforeMount(){this.$store.dispatch(a,{withdraw:this.currentWithdraw}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_withdraw_list"}):this.withdraw=t}))},computed:{currentWithdraw(){return this.$route.params.id},headerProps(){return{items:this.withdraw.data,title:this.translate("salary.withdraw.show.title"),description:""}},statuses:()=>({refused:"danger",pending:"primary",accepted:"success"}),tabs(){return this.$router.getRouteChildren("panel_salary_withdraw_show")}}};const R=$(F,M,[],!1,null,null,null).exports;var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var r=e.item,s=(e.column,e.column_key);e.id;return["withdraw_status"===s?a("PanelCellStatus",{attrs:{title:r.withdraw_status_title,status:r.withdraw_status,statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:r[s]}})]}}])})};H._withStripped=!0;const L=$({name:"PanelSalaryWithdrawShowIncomes",props:{withdraw:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/withdraw/get-incomes","query-values":{withdraw:this.withdraw},"query-params":{sort:"created_at",sortBy:"orderBy"}}},statuses:()=>({locked:"danger",withdrawn:"success",unwithdrawn:"primary",nonewithdrawnable:"gray"}),columns(){return{product:{title:this.translate("column.product"),width:"20%"},amount:{title:this.translate("salary.incomes.column.amount"),width:"20%"},agreement_id:{title:this.translate("salary.incomes.column.agreement"),width:"20%"},withdraw_status:{title:this.translate("column.status"),width:"20%"},created_at:{title:this.translate("column.date"),width:"20%"}}}}},H,[],!1,null,null,null).exports;var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelCollapsibleRemote",{staticClass:"mb-7 mb-lg-0",attrs:{remote:t.remoteProps,columns:t.columns,accordion:"payments"},scopedSlots:t._u([{key:"toggle-td",fn:function(e){var r=e.item,s=(e.column,e.column_key);return["status"===s?a("PanelCellStatus",{attrs:{title:r.status_title,status:r[s],statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:r[s]}})]}},{key:"content",fn:function(e){var r=e.item;return[a("b-row",{staticClass:"ml-7",attrs:{"align-h":"between"}},[t._l(t.shortFields,(function(e,s){return a("b-col",{key:s,staticClass:"d-flex justify-content-between my-2",attrs:{md:"6"}},[a("strong",{staticClass:"text-dark-50",domProps:{innerHTML:t._s(e)}}),t._v(" "),a("span",{staticClass:"text-dark-75 font-weight-bolder ml-2",domProps:{innerHTML:t._s(r[s])}})])})),t._v(" "),a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"my-4"})]),t._v(" "),t._l(t.longFields,(function(e,s){return[a("b-col",{key:"title-"+s,staticClass:"my-2",attrs:{md:"2"}},[a("strong",{staticClass:"text-dark-50",domProps:{innerHTML:t._s(e)}})]),t._v(" "),a("b-col",{key:"value-"+s,attrs:{md:"10"}},[a("span",{staticClass:"text-dark-75 font-weight-bold",domProps:{innerHTML:t._s(r[s])}})])]}))],2)]}},{key:"not-found",fn:function(e){e.item;return[a("PanelNotice",{attrs:{type:"info",content:t.notice}})]}}])})],1)};W._withStripped=!0;const D=$({name:"PanelSalaryWithdrawShowPayments",props:{withdraw:null,withdrawObj:null},computed:{shortFields(){return{reference_id:this.translate("salary.payments.column.reference_id"),terminal_title:this.translate("salary.payments.column.terminal"),tracking_code:this.translate("salary.payments.column.tracking_code"),deduct:this.translate("salary.payments.column.deduct")}},longFields(){return{destination_desc:this.translate("salary.payments.column.destination_desc"),origin_desc:this.translate("salary.payments.column.origin_desc")}},columns(){return{origin_account:{title:this.translate("salary.payments.column.origin_account"),width:"20%"},payout:{title:this.translate("salary.payments.column.payout"),width:"20%"},status:{title:this.translate("column.status"),width:"20%"},trans_datetime:{title:this.translate("salary.payments.column.trans_datetime"),width:"20%"}}},remoteProps(){return{api:"/pmpr/v1/salary/withdraw/get-payments","query-values":{withdraw:this.withdraw},"query-params":{sort:"created_at",sortBy:"orderBy"}}},notice(){return this.translate("salary.withdraw.show.not_accepted",[this.withdrawObj.status_title])},statuses:()=>({})}},W,[],!1,null,null,null).exports;var j=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};j._withStripped=!0;const z=$({name:"PanelSalaryApply"},j,[],!1,null,null,null).exports;var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var r=e.item,s=(e.column,e.column_key),n=e.id;return["actions"===s?a("PanelCellAction",{staticClass:"mr-2",attrs:{id:n,path:!t.isDisabled(r)&&"/salary/"+(t.isAccepted(r)?"agreement":"apply"),name:t.isAccepted(r)?"show":"",text:t.getActionText(r),color:"primary",disabled:t.isDisabled(r)}}):a("PanelCellText","status"===s?{attrs:{text:r.status_title,color:t.statuses[r.status]}}:{attrs:{text:r[s]}})]}}])})};O._withStripped=!0;const I=$({name:"PanelSalaryApplyList",methods:{isAccepted:t=>"accepted"===t.status,isDisabled(t){return!this.isAccepted(t)&&"requestable"!==t.status},getActionText(t){let e=this.isAccepted(t)?"show":"submit";return this.translate(`salary.apply.actions.${e}`)}},computed:{remoteProps:()=>({api:"/pmpr/v1/salary/agreement/get-publics","query-params":{sort:"id",sortBy:"orderBy"}}),statuses:()=>({waiting:"primary",rejected:"danger",accepted:"success",requestable:"info",unrequestable:"warning"}),columns(){return{title:{title:this.translate("column.title"),width:"25%"},status:{title:this.translate("column.status"),width:"25%"},date:{title:this.translate("column.date"),width:"25%"},actions:{title:this.translate("column.actions"),width:"25%"}}}}},O,[],!1,null,null,null).exports;var N=function(){var t=this,e=t.$createElement;return(t._self._c||e)("PanelMultistep",{attrs:{steps:t.getSteps,id:"apply_agreement",current:1}})};N._withStripped=!0;const U={name:"PanelSalaryApplySubmit",data:()=>({accept:"not_accepted",agreement:null,appliable:!1,verifications:null}),beforeMount(){this.$store.dispatch(o,{apply:!0,agreement:this.$route.params.id}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_apply_list"}):(this.agreement=t,this.$store.dispatch(u).then((t=>{this.$helper.$isEmpty(t)?this.$helper.$showModal({icon:"warning",html:this.translate("error.refresh_page")}):(this.appliable=t.appliable??!1,this.verifications=t.fields??null)})))})).catch((()=>{this.$router.push({name:"panel_salary_apply_list"})}))},computed:{getSteps(){return[{title:this.translate("salary.apply.steps.requirement.title"),icon:"fasm/6/set/user-pen",number:1},{title:this.translate("salary.apply.steps.payment.title"),icon:"fasm/6/set/money-check-dollar-pen",number:2},{title:this.translate("salary.apply.steps.consent.title"),icon:"fasm/6/set/file-contract",number:3},{title:this.translate("salary.apply.steps.submit.title"),icon:"fasm/6/set/handshake-simple",number:4}]},headerProps(){let t={},e=this.agreement;return e&&(t={items:e.data,title:e.title,description:e.description}),t},isAccepted(){return"not_accepted"!==this.accept},tabs(){return this.$router.getRouteChildren("panel_salary_apply_submit")}},methods:{onClick(){this.appliable?"not_accepted"===this.accept?this.$helper.$showModal({icon:"warning",html:this.translate("salary.apply.consent.error.not_accept")}):(this.loading=!0,this.$helper.$runAction(c,{can_apply:this.appliable&&this.isAccepted,agreement:this.agreement.id},"#submit_apply").then((({modal:t})=>{t&&t.then((t=>{t.isConfirmed&&this.$router.push({name:"panel_salary_apply_list"})}))}))):this.$helper.$showModal({icon:"warning",html:this.translate("salary.apply.consent.error.not_appliable")})}}};const V=$(U,N,[],!1,null,null,null).exports;var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,r=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[r]}})]}}])})};X._withStripped=!0;const G=$({name:"PanelSalaryApplySubmitProducts",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-products","query-params":{sort:"created_at",sortBy:"orderBy"},"query-values":{agreement:this.agreement,apply:!0}}},columns(){return{title:{title:this.translate("column.title"),width:"50%"},price:{title:this.translate("column.price"),width:"50%"}}}}},X,[],!1,null,null,null).exports;var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,r=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[r]}})]}}])})};J._withStripped=!0;const K=$({name:"PanelSalaryApplySubmitCategories",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-categories","query-params":{sort:"created_at",sortBy:"orderBy"},"query-values":{agreement:this.agreement,apply:!0}}},columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.categories.column.products"),width:"20%"}}}}},J,[],!1,null,null,null).exports;var Q=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};Q._withStripped=!0;const Y=$({name:"PanelSalaryAgreement"},Q,[],!1,null,null,null).exports;var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("router-link",{attrs:{to:"/salary/apply",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.href,s=e.route;e.navigate,e.isActive,e.isExactActive;return[a("a",{staticClass:"btn btn-success",attrs:{href:r}},[t._v("\n        "+t._s(s.meta.title)+"\n      ")])]}}])})]},proxy:!0},{key:"td",fn:function(t){var e=t.item,r=(t.column,t.column_key),s=t.id;return["actions"===r?a("PanelActionLink",{attrs:{name:"details",to:{name:"panel_salary_agreement_show",params:{id:s}}}}):a("PanelCellText",{attrs:{text:e[r]}})]}}])})};Z._withStripped=!0;const tt=$({name:"PanelSalaryAgreementList",computed:{remoteProps:()=>({api:"/pmpr/v1/salary/agreement/get-list-by-user","query-params":{sort:"created_at",sortBy:"orderBy"}}),columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.agreement.column.products"),width:"45%"},actions:{title:this.translate("column.actions"),width:"20%"}}}}},Z,[],!1,null,null,null).exports;var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelSingleHeader",t._b({},"PanelSingleHeader",t.headerProps,!1)),t._v(" "),t.agreement?a("PanelSidebar",{attrs:{tabs:t.tabs,args:{agreement:t.agreement.id,agreementObj:t.agreement}}}):t._e()],1)};et._withStripped=!0;const at={name:"PanelSalaryAgreementShow",data:()=>({agreement:null}),beforeMount(){this.$store.dispatch(o,{agreement:this.$route.params.id}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_agreement_list"}):this.agreement=t}))},computed:{headerProps(){let t={},e=this.agreement;return e&&(t={items:e.data,title:e.title,description:e.description}),t},tabs(){return this.$router.getRouteChildren("panel_salary_agreement_show")}}};const rt=$(at,et,[],!1,null,null,null).exports;var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelCard",{scopedSlots:t._u([{key:"body",fn:function(){return[t.agreementObj?a("div",{staticClass:"lh-2",domProps:{innerHTML:t._s(t.agreementObj.terms)}}):a("PanelSpinner")]},proxy:!0}])})};st._withStripped=!0;const nt=$({name:"PanelSalaryAgreementShowTerms",props:{agreementObj:null}},st,[],!1,null,null,null).exports;var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var r=e.item,s=(e.column,e.column_key);e.id;return["withdraw_status"===s?a("PanelCellStatus",{attrs:{title:r.withdraw_status_title,status:r.withdraw_status,statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:r[s]}})]}}])})};lt._withStripped=!0;const it=$({name:"PanelSalaryAgreementShowIncomes",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-incomes","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},statuses:()=>({locked:"danger",withdrawn:"success",unwithdrawn:"primary",nonewithdrawnable:"gray"}),columns(){return{product:{title:this.translate("column.product"),width:"25%"},amount:{title:this.translate("salary.incomes.column.amount"),width:"25%"},withdraw_status:{title:this.translate("column.status"),width:"25%"},created_at:{title:this.translate("column.date"),width:"25%"}}}}},lt,[],!1,null,null,null).exports;var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,r=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[r]}})]}}])})};ot._withStripped=!0;const ct=$({name:"PanelSalaryAgreementShowProducts",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-products","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},columns(){return{title:{title:this.translate("column.title"),width:"40%"},incomes_count:{title:this.translate("salary.column.sale_count"),width:"30%"},incomes_sum:{title:this.translate("salary.column.your_income"),width:"30%"}}}}},ot,[],!1,null,null,null).exports;var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,r=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[r]}})]}}])})};ut._withStripped=!0;const dt=$({name:"PanelSalaryAgreementShowCategories",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-categories","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.categories.column.products"),width:"20%"},incomes_count:{title:this.translate("salary.column.sale_count"),width:"20%"},incomes_sum:{title:this.translate("salary.column.your_income"),width:"25%"}}}}},ut,[],!1,null,null,null).exports;var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelCollapsibleRemote",{attrs:{remote:t.remoteProps,accordion:"bank-account-list"},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("PanelModal",{attrs:{modal:t.modalProps,button:t.buttonProps,id:"bank_account_modal",loading:t.loading,title:t.translate("salary.bank_accounts.modal.title")},on:{"modal-hide":function(e){return t.onModalHide(e)},"modal-show":function(e){return t.onModalShow(e)}},scopedSlots:t._u([{key:"body",fn:function(e){var r=e.close;return[t.fields?[a("PanelNotice",{attrs:{content:t.translate("salary.bank_accounts.modal.notice"),classes:"mb-10"}}),t._v(" "),a("PanelForm",{attrs:{fields:t.fields,data:t.account,labelAlign:"left",id:"save_bank_account",tag:"form",offset:"0"},on:{changed:function(e){t.data=e},rendered:t.afterRender}}),t._v(" "),a("div",{staticClass:"text-center pt-5"},[a("PanelActionSubmit",{staticClass:"mr-5",attrs:{name:"save",form:"save_bank_account",text:t.translate("salary.bank_accounts.action.save")}}),t._v(" "),a("PanelActionCancel",{on:{click:r}})],1)]:a("PanelSpinner")]}}])})]},proxy:!0},{key:"toggle",fn:function(t){var e=t.item;return[a("PanelSalaryBankAccount",{attrs:{account:e,container:{class:"d-flex ml-3"}}})]}},{key:"actions",fn:function(e){var r=e.item;return[a("div",{staticClass:"d-flex my-3 ml-5"},[a("PanelCellStatus",{attrs:{status:r.status,title:r.status_title,classes:"my-auto",statuses:{locked:"primary",editable:"success"}}}),t._v(" "),t._l(t.actions,(function(e,s){return a("b-button",{key:s,ref:s,refInFor:!0,staticClass:"ml-2",attrs:{disabled:r.locked,"data-action":s,variant:"light",size:"sm","data-key":r.escaped},on:{click:function(e){return t.onClick(e,s,r.form)}}},[a("PanelIcon",{staticClass:"mx-0",attrs:{icon:e.icon,size:"xs",color:"primary"}})],1)}))],2)]}},{key:"content",fn:function(e){var r=e.item;return[a("b-row",{staticClass:"ml-7",attrs:{"align-h":"between"}},t._l(r.data,(function(e,r){var s=e.title,n=e.value;return a("b-col",{key:r,staticClass:"d-flex justify-content-between my-2",attrs:{md:"5"}},[a("strong",{staticClass:"text-dark-50"},[t._v(t._s(s))]),t._v(" "),a("span",{staticClass:"text-dark"},[t._v(t._s(n))])])})),1)]}}])})};mt._withStripped=!0;const ht={type:"iban"};const pt=$({name:"PanelUserProfileBankAccounts",data:()=>({data:{},fields:null,loading:!1,account:ht}),methods:{reset(){this.data=ht},afterRender(){this.$helper.$onSubmitForm("save_bank_account",this.fields,(()=>{this.loading=!0;let t=this.data;this.$helper.$isFormChanged(t,this.account)?(this.account&&(t={...t,id:this.account.id}),this.$helper.$saveForm(t,f).then((()=>{this.$hook.fire("modal:hide","bank_account_modal"),this.$hook.fire("remote-list:refresh")})).finally((()=>{this.loading=!1}))):this.loading=!1}))},onModalHide(t){this.reset()},onModalShow(t){this.$store.dispatch(y).then((t=>{this.fields=t}))},onClick(t,e,a){switch(e){case"edit":this.data=a,this.account=a,this.$hook.fire("modal:show","bank_account_modal");break;case"remove":this.$helper.$showModal({icon:"warning",html:this.translate("salary.bank_accounts.action.remove.description"),showDenyButton:!0,confirmButtonText:this.translate("salary.bank_accounts.action.remove.title"),showLoaderOnConfirm:!0,preConfirm:()=>this.$helper.$runAction(_,{id:a.id}).then((({modal:t})=>{this.$hook.fire("remote-list:refresh")}))})}}},computed:{actions(){return{edit:{icon:"fasm/6/set/pencil",title:this.translate("salary.bank_accounts.action.edit.title")},remove:{icon:"fasm/6/set/trash",title:this.translate("salary.bank_accounts.action.remove.title")}}},modalProps:()=>({size:"lg",centered:!0,"hide-footer":!0,"body-class":"mx-5 mx-xl-15 my-7"}),buttonProps(){return{title:this.translate("salary.bank_accounts.action.add"),variant:"success"}},remoteProps:()=>({api:"/pmpr/v1/salary/bank-account/get-list"})}},mt,[],!1,null,null,null).exports;window.PanelSalary=C,window.PanelSalaryWithdraw=B,window.PanelSalaryWithdrawList=q,window.PanelSalaryWithdrawShow=R,window.PanelSalaryWithdrawShowIncomes=L,window.PanelSalaryWithdrawShowPayments=D,window.PanelSalaryApply=z,window.PanelSalaryApplyList=I,window.PanelSalaryApplySubmit=V,window.PanelSalaryApplySubmitProducts=G,window.PanelSalaryApplySubmitCategories=K,window.PanelSalaryAgreement=Y,window.PanelSalaryAgreementList=tt,window.PanelSalaryAgreementShow=rt,window.PanelSalaryAgreementShowTerms=nt,window.PanelSalaryAgreementShowIncomes=it,window.PanelSalaryAgreementShowProducts=ct,window.PanelSalaryAgreementShowCategories=dt,window.PanelUserProfileBankAccounts=pt})();